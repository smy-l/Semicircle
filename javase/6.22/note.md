# 6.22

## 多态

1. 将父类作为总的类，其下任意子类都可以通过父类类名来创建

   例：

   ```
   public class Animal{
   	
   }
   
   public class Elephant extends Animal{
   
   }
   
   publci class Lion extends Animal{
   
   }
   
   public class Main{
   	public static void main(String[] args){
   		Animal elephant = new Elephant();
   		Animal lion = new Lion();
   	}
   }
   ```

### 抽象类 abstract

1. 抽象类不能够被实例化
2. 抽象类可以有构造方法，目的是让子类对其变量能够初始化
3. 抽象类可以创建抽象方法，该抽象方法必须强制要求子类对抽象方法进行重写
4. 创建数组不算实例化

### 抽象类(父类)和子类之间的关系

#### 向上转型

有父类对象接受子类对象，系统自动转换

#### instanceof(向下转型)

1. 子类中定义的新方法，如果没有在抽象类中定义，那么该新方法无法调用，被隐藏起来，如果想要调用，需要强行将其进行类型转换，使用`instanceof`

2. 使用方法

   ```
   父类对象(实例化对象) instanceof 子类类名
   ```

   如果该父类对象是子类类型，则返回true，否则返回false

将父类对象转换成子类对象；

```
public class A{

}

public class B extends A{
	public void method(){
		System.out.println(1);
	}
}

public class C extends A{

}

public class Main{
	public static void main(String[] args){
		A b = new B();
		A c = new C();
		
		//b.method();  //编译报错，b是A类对象，无法调用B类中的方法，若要使用，进行转换
		
		if(b instanceof B){    //转换
			B b1 = (B)b;
			b1.method();         //可以使用B类的method()方法，
		}
		
		System.out.println(b instanceof C); //打印false，因为b为B子类，不是C子类
		
	}
}
```

## 总结

1. 什么是多态
   - 很多个子类公用一个父类的方法  重写  调用重写的子类方法
   - 继承 & 方法重写
   - 数据类型多，一个数据类型表示多个数据类型的状态（多态）
2. 引入多态是为了解决什么问题的
   - 减少代码重复，提高代码复用性、扩展性，减少耦合
3. 多态的语法是怎样的
   - 父类类名 变量名  =  new  子类类名()  或  等号右边接受子类对象
4. 为什么子类重写父类方法后，要求重写的方法访问权限要更宽松
   - 使用多态的形式调用方法时，编译器会根据父类中定义的访问权限检查方法调用时是否。。。。。。。。。。。。。。。。
   - 如果子类中方法的访问权限限制高于父类方法，没有办法在编译时进行检查过滤
5. 多态是如何提高代码的可扩展性
   - 把方法入参使用父类的数据类型，返回值使用父类的数据类型，调用的实例方法在子类中。。。。。。。。。。。。。
6. 使用父类变量保存子类对象引用后，是否可以调用子类的方法
   - 不可以，编译器不允许。
7. 父类变量保存子类对象引用后，如果子类重写了父类方法后，调用该方法，是调用父类定义的方法还是子类重写的方法
   - 子类重写的方法，父类变量中保存的对象里面带有该对象的数据类型的确切信息，通过这个信息可以找到这个子类，在子类中进行搜索找到对应的重写方法进行调用，如果找不到，则到父类中进行查找。
8. 什么是抽象类
   - abstract修饰的父类，抽象类中可以存在abstract方法，非抽象的子类必须实现抽象方法。
9. 抽象类是否可以实例化
   - 不可以实例化，可以存在构造方法，用于对抽象类内部成员进行初始化
10. 处理那些类型的数据时需要创建抽象类
    - 没有实例化价值的类，不会创建这个类的对象
11. 如果将一个引用数据类型类型转换时转换成错误的数据类型会出现什么问题
    - ClassCastException
12. 是否可以将一个子类对象强制转换为父类对象
    - 可以，但是这种操作是默认进行的，向上转型
13. 是否可以将一个父类对象强制转换为其中一种子类对象
    - 可以

